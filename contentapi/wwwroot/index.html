<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <meta name="rating" content="general">
        <meta name="description" content="SBS default implementation">
        <script src="api.js"></script>
        <script src="index.js"></script>
        <link rel="stylesheet" href="index.css">
    </head>
    <body>
        <header>
            <a href="?">Home</a>
            <a href="?t=login">Login</a>
            <a href="?t=register">Register</a>
            <a href="?t=user">User</a>
            <a href="?t=page&pid=0">Pages</a>
            <a href="?t=users">Users</a>
            <a href="?t=files">Files</a>
        </header>
        <section id="main">
            <h1>ContentApi Default Implementation</h1>
            <p>
                This <em>extremely rough around the edges</em> page is the example implementation for a frontend which consumes
                contentapi. It has enough features to be functional, but nothing more. It has essentially NO error handling; this is
                done on purpose so you can more easily see the functionality within the code. 
            </p>
            <p>
                The heart of this implementation is <a href="api.js">api.js</a>, which you can also use for your own frontends. It
                provides a simple javascript interface to the API, and includes some (hopefully helpful) notes about the usage and
                parameters involved.
            </p>
        </section>
        <!-- For simplicity, all pages are defined directly inside index.html. They are loaded on page load based on
             the t parameter in the URL -->
        <template id="templates">
            <div id="t_login">
                <form data-loginform onsubmit="return t_login_submit(this)">
                    <label for="login-username">Username:</label>
                    <input id="login-username" name="username" required="">
                    <label for="login-password">Password:</label>
                    <input id="login-password" name="password" type="password" required="">
                    <input type="submit" value="Login">
                </form>
            </div>
            <div id="t_register">
                <form data-registerform onsubmit="return t_register_submit(this)">
                    <label for="register-username">Username:</label>
                    <input id="register-username" name="username" required="">
                    <label for="register-email">Email:</label>
                    <input id="register-email" name="email" type="email" required="">
                    <label for="register-password">Password:</label>
                    <input id="register-password" name="password" type="password" required="">
                    <input type="submit" value="Register">
                </form>
            </div>
            <div id="t_confirmregister" data-onload="confirmregister_onload">
                <form data-confirmregisterform onsubmit="return t_confirmregister_submit(this)">
                    <label for="confirmregister-key">Registration code (look for email):</label>
                    <input id="confirmregister-key" name="key" required="">
                    <input id="confirmregister-email" type="hidden" name="email" value="">
                    <input type="submit" value="Confirm">
                </form>
            </div>
            <div id="t_user" data-onload="user_onload">
                <img src="" id="user-avatar">
                <table class="describe" id="user-table"></table>
                <button onclick="t_user_logout()">Logout</button>
            </div>
            <div id="t_page" data-onload="page_onload">
                <h2 id="page-title"></h2>
                <div id="page-content" title="This is raw markup"></div>
                <table class="describe" id="page-table"></table>
                <h3>Subpages:</h3>
                <div id="page-subpages"></div>
                <div id="page-subpages-nav" class="nav">
                    <a href="#" id="page-subpageup">Next Subpages</a>
                    <a href="#" id="page-subpagedown">Previous Subpages</a>
                </div>
                <h3>Comments:</h3>
                <div id="page-comments"></div>
                <div id="page-comments-nav" class="nav">
                    <a href="#" id="page-commentup">Older Comments</a>
                    <a href="#" id="page-commentdown">Newer Comments</a>
                </div>
            </div>
            <div id="t_users" data-onload="users_onload">
                <div id="users-users"></div>
                <div id="users-nav" class="nav">
                    <a href="#" id="users-usersup">Next Users</a>
                    <a href="#" id="users-usersdown">Previous Users</a>
                </div>
            </div>
            <div id="t_files" data-onload="files_onload">
                <div id="files-files"></div>
                <div id="files-nav" class="nav">
                    <a href="#" id="files-filesup">Next Files</a>
                    <a href="#" id="files-filesdown">Previous Files</a>
                </div>
            </div>
            <!-- The rest of this stuff are sort of "subtemplates", in that they are not the main page -->
            <div id="subpage_item" data-onload="subpage_item_onload">
                <a data-title></a>
                <span data-type></span>
            </div>
            <div id="comment" data-onload="comment_onload">
                <img data-avatar>
                <span data-username class="important"></span>
                <span data-comment></span>
                <time data-time class="annotation"></time>
            </div>
            <div id="user_item" data-onload="user_item_onload">
                <img data-avatar>
                <span data-username class="important"></span>
                <time data-time class="annotation"></time>
                <span data-super>‚≠ê</span>
            </div>
            <div id="file_item" data-onload="file_item_onload">
                <img data-file>
                <span data-name class="important"></span>
                <time data-time class="annotation"></time>
                <span data-private>üîí</span>
            </div>
        </template>
    </body>
</html>